# Инструкция по развертыванию приложения VIP-Авто v2

Поздравляю! Вся работа по миграции проекта на React и PostgreSQL завершена. Следуйте этой инструкции, чтобы опубликовать ваше приложение в интернете с помощью GitHub и Render.

## Шаг 1: Публикация кода на GitHub

1.  **Создайте новый репозиторий на GitHub:**
    *   Зайдите в свой аккаунт на [GitHub](https://github.com).
    *   Нажмите "New repository".
    *   Назовите его (например, `vip-auto-react`). Сделайте его **приватным** (Private), так как он содержит логику вашего бизнеса.
    *   Нажмите "Create repository".

2.  **Загрузите код в репозиторий:**
    *   GitHub предоставит вам инструкции для загрузки существующего кода. Вам нужно будет выполнить в вашем терминале команды, похожие на эти (замените URL на ваш):
        ```bash
        git remote add origin https://github.com/YourUsername/vip-auto-react.git
        git branch -M main
        git push -u origin main
        ```

## Шаг 2: Развертывание на Render

Render — это облачная платформа, которая автоматически соберет и запустит ваше приложение прямо из GitHub. Мы уже добавили в проект файл `render.yaml`, который содержит всю необходимую конфигурацию.

1.  **Создайте аккаунт на Render:**
    *   Перейдите на [render.com](https://render.com/) и зарегистрируйтесь, удобнее всего через ваш аккаунт GitHub.

2.  **Создайте новое приложение "Blueprint":**
    *   В панели управления Render (Dashboard) нажмите **"New +"** и выберите **"Blueprint"**.
    *   Подключите ваш GitHub-репозиторий (`vip-auto-react`), который вы создали на Шаге 1.
    *   Render автоматически обнаружит и проанализирует ваш `render.yaml` файл.

3.  **Настройте сервисы и переменные:**
    *   Render покажет вам два сервиса, которые он собирается создать: веб-сервис `vipauto-server` и базу данных `vipauto-db`.
    *   **Важно:** Render автоматически свяжет базу данных с вашим сервером. Переменная `DATABASE_URL` будет установлена корректно без вашего участия.
    *   Вам может понадобиться вручную установить секретный ключ `JWT_SECRET` для большей безопасности. В настройках сервиса `vipauto-server` перейдите в раздел "Environment" и добавьте новую переменную. Рекомендуется использовать сгенерированное надежное значение.

4.  **Запустите развертывание:**
    *   Нажмите кнопку **"Apply"** или **"Create New Blueprint Instance"**.
    *   Render начнет процесс сборки. Он установит все зависимости, соберет React-приложение и запустит ваш сервер. Этот процесс может занять несколько минут.
    *   Вы можете следить за логами сборки и запуска прямо в интерфейсе Render.

## Шаг 3: Первичная настройка базы данных

После первого успешного развертывания ваша база данных будет пустой. Нам нужно создать таблицы и наполнить их тестовыми данными.

1.  **Подключитесь к "Shell" вашего сервиса:**
    *   В панели управления вашим сервисом `vipauto-server` на Render найдите вкладку **"Shell"**.

2.  **Запустите скрипт `seed.js`:**
    *   В открывшейся командной строке выполните команду:
        ```bash
        node seed.js
        ```
    *   Скрипт подключится к вашей базе данных Neon, создаст все таблицы и добавит пользователей и тестовые заказы.

## Готово!

После выполнения всех шагов ваше приложение будет доступно по адресу, который предоставит Render (вида `https://vipauto-server.onrender.com`). Вы можете зайти, используя тестовые логины и пароли, и проверить работу.
