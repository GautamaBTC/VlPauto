# Инструкция по синхронизации данных между устройствами

Здравствуйте!

Это руководство поможет вам настроить автоматическую синхронизацию данных (файла `db.json`) между вашим основным компьютером и телефоном Samsung с Termux. Это позволит вам запускать сервер на любом из устройств, и данные всегда будут актуальными.

Мы будем использовать для этого бесплатное и очень надежное приложение **Syncthing**.

## Что такое Syncthing?

**Syncthing** — это программа для непрерывной и безопасной синхронизации файлов между двумя или более компьютерами в реальном времени. Ваши данные хранятся только на ваших устройствах, без участия сторонних серверов. Это идеальное решение для нашей задачи.

---

## Шаг 1: Установка Syncthing

Вам нужно установить Syncthing на **оба** устройства: ваш основной компьютер и ваш телефон.

### A. Установка на основной компьютер (Windows/macOS/Linux)

1.  Перейдите на официальный сайт Syncthing: [https://syncthing.net/downloads/](https://syncthing.net/downloads/)
2.  Скачайте версию для вашей операционной системы. Для Windows рекомендуется скачать и распаковать `syncthing-windows-amd64.zip`.
3.  Запустите `syncthing.exe`. При первом запуске откроется окно браузера с интерфейсом Syncthing. Не закрывайте консольное окно, пока Syncthing работает.

### B. Установка на телефон (Android/Termux)

1.  **Установите приложение Syncthing из Google Play или F-Droid.** Это самый простой способ. Откройте Google Play, найдите "Syncthing" и установите его.
2.  **(Альтернатива) Установка внутри Termux:** Если вы хотите запускать Syncthing прямо из консоли Termux, откройте Termux и выполните команду:
    ```bash
    pkg install syncthing
    ```
    После установки для запуска введите `syncthing` в консоли Termux.

---

## Шаг 2: Связывание устройств

Теперь нужно "познакомить" ваш компьютер и телефон. У каждого устройства в Syncthing есть уникальный **ID (идентификатор)**.

1.  **На компьютере:**
    *   В веб-интерфейсе Syncthing (который открылся в браузере) нажмите "Действия" (вверху справа) -> "Показать ID".
    *   Вы увидите длинный идентификатор и QR-код.

2.  **На телефоне:**
    *   Откройте приложение Syncthing.
    *   Перейдите на вкладку "Устройства" и нажмите на `+` в правом верхнем углу.
    *   Нажмите на значок QR-кода и отсканируйте QR-код с экрана вашего компьютера.
    *   Дайте устройству имя (например, "Мой ПК") и сохраните.

3.  **Подтверждение на компьютере:**
    *   Через несколько секунд в веб-интерфейсе на компьютере появится уведомление, что новое устройство (ваш телефон) хочет подключиться. Нажмите "Добавить устройство".
    *   Готово! Ваши устройства теперь связаны.

---

## Шаг 3: Настройка общей папки

Теперь укажем, какую папку синхронизировать. Мы будем синхронизировать всю папку с нашим проектом.

1.  **На компьютере:**
    *   В веб-интерфейсе Syncthing в разделе "Папки" нажмите "Добавить папку".
    *   **Путь к папке:** Укажите полный путь к папке, где лежит ваш проект (где находятся файлы `ser.js`, `db.json` и т.д.).
    *   **Метка папки:** Дайте ей простое имя, например, `vipauto-project`.
    *   Перейдите на вкладку "Общий доступ" и поставьте галочку напротив вашего телефона.
    *   Нажмите "Сохранить".

2.  **На телефоне:**
    *   Через несколько секунд в приложении Syncthing на телефоне появится уведомление "Компьютер 'Мой ПК' хочет поделиться папкой `vipauto-project`".
    *   Нажмите "Добавить".
    *   **Путь к папке:** Укажите, куда на телефоне вы хотите сохранить проект. Например, вы можете создать папку `~/storage/shared/vipauto`.
    *   Нажмите "Сохранить".

**Готово!** Через несколько минут Syncthing автоматически скопирует все файлы проекта с компьютера на телефон (или наоборот). После этого **любые изменения** в файле `db.json` на одном устройстве будут мгновенно передаваться на другое.

---

## Шаг 4: Использование

1.  Убедитесь, что Syncthing запущен на обоих устройствах.
2.  Запустите сервер `node ser.js` на **любом** из устройств (на компьютере или в Termux).
3.  Все пользователи (мастера, директор) будут подключаться к запущенному серверу, а благодаря Syncthing файл `db.json` всегда будет содержать самые последние данные, независимо от того, где был запущен сервер.
